<!DOCTYPE html>
<html>
    <head>
        {{ $refresh := 1800 }}{{/* seconds to wait before refresh */}}
        <meta charset="utf-8">
        <meta http-equiv="refresh" content="{{ $refresh }}">
        <title>{{.Ort}}</title>
        <style media="screen">
            * {
                padding: 0;
                margin: 0;
            }
            body {
                color: white;
            }
            table {
                font-size: 250%;
                font-family: sans-serif;
                margin: auto auto;
            }
            th, td {
                padding: .2em 1em;
                text-align: center;
            }
            h1 {
                font-size: 2.4em;
            }

            a {
                color: #aaaaff;
            }
            #background {
                background-image: linear-gradient(0deg, rgb(54, 87, 240), rgb(64, 85, 181));
                position: fixed;
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                padding: 2em;
            }
            #tblblock {
                padding-top: 2em;
            }

            .header {
                background-color: rgb(105, 123, 207);
                padding: 1em;
                text-align: center;
            }
            .footer {
                position: absolute;
                bottom: 0;
                right: 0;
                left: 0;
                background-color: rgb(36, 36, 36);
                text-align: right;
                padding: 1em;
            }
            .param {
                text-align: right;
            }
            .icon {
                height:2em;
                background-color: rgba(214, 214, 214, 0.5);
                border-radius: .5em;
            }
        </style>
    </head>
    <body>
        <div id="background">
            <div class="header">
                {{ if eq .N 1 }}
                    <h1>{{.Ort}} - Wetterlage Heute - {{.Now}}</h1>
                {{ else }}
                    <h1>{{.Ort}} - {{.N}} Tage Vorschau - {{.Now}}</h1>
                {{ end }}
            </div>
            <div id="tblblock">
                <table>
                    {{ range .Data }}
                    <tr>
                        <td class="param">
                            {{.Name}}
                        </td>
                        {{ $unit := .Unit }}
                        {{ if .Bold }}
                            {{ range .Data }}
                            <th>
                                {{.}} {{ $unit }}
                            </th>
                            {{ end }}
                        {{ else }} {{/* not bold */}}
                            {{ range .Data }}
                            <td>
                                {{.}} {{ $unit }}
                            </td>
                            {{ end }}
                        {{ end }}
                    </tr>
                    {{ end }}
                </table>
            </div>
            <div class="footer">
                Email: <a href="mailto:info@meteosky.de">info@meteosky.de</a> | Wetter f&uuml;r {{.N}} Tag(e)<br>
                <span id="dt"></span>{{/* {{.Now}} */}}
            </div>
            <script type="text/javascript">
                let dt = document.getElementById("dt");
                let d1 = {{ $refresh }}; //s
                let ds = 1000; //ms
                window.setInterval(function() {
                    dt.innerHTML = "Aktualisierung in " + Math.round(d1/60) + " Minuten";
                    d1 -= ds/1000.0;
                    d1 = Math.max(d1, 60);
                }, ds);
            </script>
        </div>
    </body>
</html>
