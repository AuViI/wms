function seti(e){return document.getElementById("s"+e)}function dels(e){cdiv.removeChild(seti(e)),update()}function news(){lon+=1,newDiv=document.createElement("div"),newDiv.className="select",newDiv.id="s"+lon,newDiv.innerHTML='<select name="service'+lon+'">                        <option value="txt">Text</option>                        <option value="view">Anzeige</option>                        <option value="csv">CSV</option>                    </select>                    <input type="text" placeholder="Ort (Parameter)" name="'+lon+'_para1">                    <input type="button" onclick="news()" name="okBtn'+lon+'" value="OK">                    <input type="button" onclick="dels('+lon+')" name="delBtn'+lon+'" value="Entfernen">',cdiv.appendChild(newDiv),update()}function lastp(){for(res=0;;){if(n=cdiv.innerHTML.indexOf("<p>",res+1),-1==n)return res;res=n}}function save(){console.log("saving")}function update(){dels=document.getElementsByClassName("_del_on_update");for(var e in dels)dels[e].parentNode&&dels[e].parentNode.removeChild(dels[e]);for(var n=0;n<cdiv.childElementCount;n++)if(n<cdiv.children.length-1)for(var t=0;t<cdiv.children[n].childElementCount-1;t++)cdiv.children[n].children[t].disabled=!0;else for(var t in cdiv.children[n].children)cdiv.children[n].children[t].disabled=!1}function output(){update(),res=[],dbg_string="Output:\n";for(var e=0;e<cdiv.childElementCount;e++){res[e]={},res[e].data={},res[e].type=cdiv.children[e].children[0].selectedOptions[0].value,dbg_string+=e+" => "+res[e].type+" {\n";for(var n=1;n<cdiv.children[e].childElementCount-2;n++){r=cdiv.children[e].children[n];var n=r.value;n=""==n?"nil":'"'+n+'"',res[e].data[r.name]=n,dbg_string+="	"+r.name+" => "+n+"\n"}var t=0,i="";for(var n in res[e].data)i=res[e].data[n],t++;if(1==t&&"nil"!=i){var d="/"+res[e].type+"/"+i.substring(1,i.length-1)+"/";dbg_string+="	__link__ => "+d;var l=document.createElement("a");l.href=d,l.target="_blank",l.className="_del_on_update",l.innerHTML="<button>Ansehen: "+d+"</button>",cdiv.children[e].appendChild(l)}res[e].data.length=t,dbg_string+="}\n"}return console.log(dbg_string),res}print=window.console.log;var cdiv=document.getElementById("container"),lon=0;news();
